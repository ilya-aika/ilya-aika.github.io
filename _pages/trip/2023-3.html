---
layout: page
title: 二人のイタリア旅行（2023年3月）
permalink: /trip/2023/3
---

<script src="//cdn.jsdelivr.net/npm/globe.gl"></script>

<div id="globeViz" style="width: 100%; height: 100vh;"></div>
<script>
  const city = {
    Osaka:     { lat: 34.6937,  lng: 135.5023 },
    Rome:      { lat: 41.9028,  lng: 12.4964 },
    Pisa:      { lat: 43.7167,  lng: 10.4000 },
    Firenze:   { lat: 43.7699,  lng: 11.2556 },
    Venezia:   { lat: 45.4408,  lng: 12.3155 }
  };

  const points = Object.entries(city).map(([name, {lat, lng}]) => ({ lat, lng, name }));
  const coords = points.map(p => [p.lat, p.lng, 0]);
  coords.push(coords[0]); // close the loop

  const pathArray = [ coords ]; // wrap into array of paths

  const world = Globe()(document.getElementById('globeViz'))
    .globeImageUrl('//unpkg.com/three-globe/example/img/earth-night.jpg')
    .pointsData(points)
      .pointLat(d => d.lat)
      .pointLng(d => d.lng)
      .pointLabel(d => d.name)
      .pointColor(() => 'crimson')
      .pointAltitude(0.05)
      .pointRadius(0.15)
    .labelsData(points)
      .labelLat(d => d.lat)
      .labelLng(d => d.lng)
      .labelText(d => d.name != 'Firenze' ? d.name : '')
      .labelSize(1.0)
      .labelDotRadius(0.2)
      .labelColor(() => 'white')
    .pathsData(pathArray)
      .pathPointAlt(p => p[2])          // altitude accessor
      .pathResolution(1)               // smoother curves
      .pathColor(() => '#00E0FF')
      // .pathStroke(2)
      .pathDashLength(0.2)
      .pathDashGap(0.1)
      .pathDashAnimateTime(4000)
    .backgroundColor('#000011');
  
  world.pointOfView({ ... city.Rome, alt: 1.5 });
</script>
